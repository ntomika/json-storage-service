# json-storage-service

# О проекте
Сервис представляет собой хранилище JSON-объектов с HTTP-интерфейсом. 
Объекты размещаются в оперативной памяти. Реализована запись содержимого хранилища в файл на диске. При каждом новом запуске приложения происходит восстановление состояния хранилища из файла.
Имеется возможность задать время жизни объекта.



## Функционал
1. _Запись объектов в хранилище_
```
PUT /objects/{Key}
```
**{Key}** - идентификатор объекта в хранилище json объектов.

Метод поддерживает опциональный заголовок Expires формата RFC1123 (Fri, 14 Jun 2024 18:00:00 GMT).

2. _Чтение объектов из хранилища_
```
GET /objects/{Key}
```
**{Key}** - идентификатор объекта в хранилище json объектов

3. _Проверка работоспособности и готовности_
HTTP-методы проверки liveness и readiness для интеграции с k8s
```
GET /probes/liveness
GET /probes/readiness
```

4. _Получение метрик_
Метод для получения метрик в формате prometheus
```
GET /metrics
```

---

### Запуск
Перед запуском необходимо проверить наличие следующих инструментов:
- Docker
- Kubernetes

```bash
# Клонирование репозитория
git clone https://github.com/ntomika/json-storage-service
```

```bash
# Запуск
> make run
```

### Прочее
```bash
# Для завершения
> make clean
```
```bash
# Для остановки программы в контейнере и перезапуска контейнера
> make restart
```